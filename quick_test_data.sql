-- ============================================
-- 答辩管理系统 - 快速测试数据
-- 使用方法：在MySQL中执行此脚本
-- ============================================

USE defense_management_system;

-- ============================================
-- 1. 用户数据（密码都是: 123456）
-- ============================================
INSERT INTO users (username, password, user_group, status) VALUES
('admin', '123456', 'admin', 1),
('teacher1', '123456', 'teacher', 1),
('teacher2', '123456', 'teacher', 1),
('teacher3', '123456', 'teacher', 1),
('student1', '123456', 'student', 1),
('student2', '123456', 'student', 1),
('student3', '123456', 'student', 1),
('student4', '123456', 'student', 1),
('student5', '123456', 'student', 1);

-- ============================================
-- 2. 教师数据
-- ============================================
INSERT INTO teachers (teacher_name, teacher_no, gender, phone, email, department, title, user_id) VALUES
('张教授', 'T001', '男', '13800001001', 'zhang@edu.cn', '计算机学院', '教授', 2),
('李副教授', 'T002', '女', '13800001002', 'li@edu.cn', '计算机学院', '副教授', 3),
('王讲师', 'T003', '男', '13800001003', 'wang@edu.cn', '软件学院', '讲师', 4);

-- ============================================
-- 3. 学生数据
-- ============================================
INSERT INTO students (student_name, student_no, gender, phone, email, major, class_name, grade, user_id) VALUES
('陈小明', '2020001', '男', '13900001001', 'chen@stu.edu', '计算机科学与技术', '计科2001班', '2020', 5),
('刘小红', '2020002', '女', '13900001002', 'liu@stu.edu', '计算机科学与技术', '计科2001班', '2020', 6),
('赵小刚', '2020003', '男', '13900001003', 'zhao@stu.edu', '软件工程', '软工2001班', '2020', 7),
('孙小丽', '2020004', '女', '13900001004', 'sun@stu.edu', '软件工程', '软工2001班', '2020', 8),
('周小伟', '2020005', '男', '13900001005', 'zhou@stu.edu', '计算机科学与技术', '计科2002班', '2020', 9);

-- ============================================
-- 4. 答辩计划
-- ============================================
INSERT INTO defense_plans (plan_name, plan_desc, defense_type, start_time, end_time, status) VALUES
('2024届毕业论文答辩', '2024届本科生毕业论文答辩', '毕业答辩', '2024-05-15 08:00:00', '2024-05-20 18:00:00', 3);

-- ============================================
-- 5. 答辩分组
-- ============================================
INSERT INTO defense_groups (plan_id, group_name, group_leader, defense_time, defense_location, status) VALUES
(1, '第一答辩组', 1, '2024-05-15 08:00:00', '教学楼A101', 1),
(1, '第二答辩组', 2, '2024-05-15 14:00:00', '教学楼A102', 1);

-- ============================================
-- 6. 答辩小组成员
-- ============================================
INSERT INTO defense_group_members (group_id, teacher_id, role) VALUES
(1, 1, '组长'),
(1, 2, '成员'),
(2, 2, '组长'),
(2, 3, '成员');

-- ============================================
-- 7. 小组学生
-- ============================================
INSERT INTO group_students (group_id, student_id, defense_order) VALUES
(1, 1, 1),
(1, 2, 2),
(1, 3, 3),
(2, 4, 1),
(2, 5, 2);

-- ============================================
-- 8. 通知公告
-- ============================================
INSERT INTO notices (notice_title, content, type, notice_publisher, release_time, examine_state, recommend) VALUES
('2024届毕业论文答辩通知', '<p>各位同学：2024届本科毕业论文答辩将于5月15日开始，请做好准备。</p>', '通知', '教务处', NOW(), '已发布', 1),
('答辩材料提交提醒', '<p>请各位同学在答辩前3天提交答辩材料（PPT、论文终稿等）。</p>', '公告', '教务处', NOW(), '已发布', 1);

-- ============================================
-- 9. 答辩场地
-- ============================================
INSERT INTO defense_venues (venue_name, location, capacity, equipment, status) VALUES
('教学楼A101', '教学楼A栋1楼101室', 30, '投影仪、音响、白板', 1),
('教学楼A102', '教学楼A栋1楼102室', 30, '投影仪、音响、白板', 1),
('教学楼A103', '教学楼A栋1楼103室', 25, '投影仪、音响', 1),
('教学楼B201', '教学楼B栋2楼201室', 40, '投影仪、音响、白板、录播设备', 1);

-- ============================================
-- 10. 评分标准
-- ============================================
INSERT INTO score_criteria (plan_id, criteria_name, criteria_desc, max_score, weight) VALUES
(1, '论文质量', '论文的研究内容、创新性、学术价值', 100, 40),
(1, '答辩表现', '答辩过程中的表达能力、应变能力', 100, 30),
(1, '研究方法', '研究方法的科学性和合理性', 100, 20),
(1, '文献综述', '文献综述的全面性和深度', 100, 10);

-- ============================================
-- 11. 答辩评分
-- ============================================
INSERT INTO defense_scores (student_id, teacher_id, group_id, criteria_id, score, comments) VALUES
(1, 1, 1, 1, 85, '论文质量较好'),
(1, 1, 1, 2, 88, '答辩表现出色'),
(1, 1, 1, 3, 82, '研究方法合理'),
(1, 1, 1, 4, 86, '文献综述全面');

-- ============================================
-- 12. 答辩记录
-- ============================================
INSERT INTO defense_records (student_id, group_id, venue_id, start_time, end_time, status, notes) VALUES
(1, 1, 1, '2024-05-15 08:00:00', '2024-05-15 08:30:00', 'completed', '答辩顺利完成'),
(2, 1, 1, '2024-05-15 08:30:00', '2024-05-15 09:00:00', 'completed', '答辩顺利完成'),
(3, 1, 1, '2024-05-15 09:00:00', NULL, 'in_progress', '答辩进行中');

-- ============================================
-- 13. 通知中心
-- ============================================
INSERT INTO notifications (user_id, type, title, content, is_read) VALUES
(5, 'defense', '答辩时间通知', '您的答辩时间为2024-05-15 08:00，地点：教学楼A101', 0),
(6, 'defense', '答辩时间通知', '您的答辩时间为2024-05-15 08:30，地点：教学楼A101', 0),
(7, 'defense', '答辩时间通知', '您的答辩时间为2024-05-15 09:00，地点：教学楼A101', 0),
(5, 'system', '材料提交提醒', '请在答辩前3天提交答辩材料', 1);

-- ============================================
-- 完成！查看数据统计
-- ============================================
SELECT '✅ 测试数据插入完成！' AS '状态';

SELECT 
    (SELECT COUNT(*) FROM users) AS '用户数',
    (SELECT COUNT(*) FROM teachers) AS '教师数',
    (SELECT COUNT(*) FROM students) AS '学生数',
    (SELECT COUNT(*) FROM defense_plans) AS '答辩计划',
    (SELECT COUNT(*) FROM defense_groups) AS '答辩分组',
    (SELECT COUNT(*) FROM defense_venues) AS '答辩场地',
    (SELECT COUNT(*) FROM notifications) AS '通知数';

-- ============================================
-- 测试账号信息
-- ============================================
SELECT '
========================================
测试账号信息（密码都是: 123456）
========================================
管理员账号：
  用户名: admin
  密码: 123456

教师账号：
  用户名: teacher1  (张教授)
  用户名: teacher2  (李副教授)
  用户名: teacher3  (王讲师)
  密码: 123456

学生账号：
  用户名: student1  (陈小明)
  用户名: student2  (刘小红)
  用户名: student3  (赵小刚)
  用户名: student4  (孙小丽)
  用户名: student5  (周小伟)
  密码: 123456
========================================
' AS '账号信息';
